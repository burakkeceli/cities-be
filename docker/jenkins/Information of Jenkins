BEFORE; Connect Jenkins and install these plugins over ui. CLI downloads not dependencies.
Deploy to container Plugin, Git plugin, Maven Integration plugin


1. Has been logged as a root user:
docker exec -u 0 -it jenkins bash

// TODO: Find a proper way to get mvn and jre from docker
// TODO: Not from jenkins. Or jenkins is better?
2. Then maven has been installed inside the docker
apt-get update && apt-get install -y maven

3. Then java has been installed inside the docker
apt-get update && apt-get install default-jre

4. echo $JAVA_HOME/ has been put to Global Tool Configuration in jenkins
/docker-java-home/

5. Create git credentials to connect .git
https://stackoverflow.com/questions/42959209/determine-store-id-for-a-folder-to-use-cli-to-upload-and-list-credentials
STORE_ID
    Provider::Resolver::ContextPath
Store Id: "list-credentials-providers::list-credentials-context-resolvers::contextPath" "SystemCredentialsProvider::SystemContextResolver::jenkins"

#####
##### EXAMPLE: java -jar docker/jenkins/cli/jenkins-cli.jar -s http://localhost:9090/ get-credentials-as-xml "SystemCredentialsProvider::SystemContextResolver::jenkins" "(global)" tomcatCredentials
#####

// TODO: Is it safe to run `jenkins-cli.jar` from localhost?
// TODO: git password inside createCredential.xml must be taken as secure. Not directly.
5a. Create credential with given id. This id must be same to one which is used in git job.
java -jar docker/jenkins/cli/jenkins-cli.jar -s http://localhost:9090/ create-credentials-by-xml < docker/jenkins/setup/createCredential.xml "SystemCredentialsProvider::SystemContextResolver::jenkins" "(global)"
--username admin --password 7bae640ebb644575a18aca5cc2babde9

6. Create tomcat credentials on jenkins. createTomcatCredential.xml

7. Create git job which allows you to get project from .git and deploy it to tomcat server
java -jar docker/jenkins/cli/jenkins-cli.jar -s http://localhost:9090/ create-job test2 < docker/jenkins/jobs/deployTomcatJob.xml --username admin --password 7bae640ebb644575a18aca5cc2babde9